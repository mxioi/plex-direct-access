# nginx configuration for Plex redirect
# This replaces proxy_pass with a redirect to direct connection
#
# For nginx-proxy-manager: Modify the proxy host config directly
# For standalone nginx: Use this as a server block

server {
    listen 80;
    listen 443 ssl;
    server_name plex.example.com;

    # SSL configuration (adjust paths as needed)
    ssl_certificate /etc/letsencrypt/live/plex.example.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/plex.example.com/privkey.pem;

    # Redirect root to Plex web interface
    location = / {
        return 302 http://192.168.0.50:32400/web/;
    }

    # Redirect all other requests preserving path
    location / {
        return 302 http://192.168.0.50:32400$request_uri;
    }
}

# Note: Replace 192.168.0.50 with your bridge server's family-network IP
# Note: Replace plex.example.com with your actual domain
